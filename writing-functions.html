<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Writing Functions | Best Coding Practices in R</title>
  <meta name="description" content="This book provides a comprehensive guide to best coding practices in R, focusing on essential aspects like script organisation, naming conventions, commenting, and version control. It aims to enhance the readability, maintainability, and collaborative potential of R code by offering practical advice on creating well-structured and clean scripts." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Writing Functions | Best Coding Practices in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book provides a comprehensive guide to best coding practices in R, focusing on essential aspects like script organisation, naming conventions, commenting, and version control. It aims to enhance the readability, maintainability, and collaborative potential of R code by offering practical advice on creating well-structured and clean scripts." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Writing Functions | Best Coding Practices in R" />
  
  <meta name="twitter:description" content="This book provides a comprehensive guide to best coding practices in R, focusing on essential aspects like script organisation, naming conventions, commenting, and version control. It aims to enhance the readability, maintainability, and collaborative potential of R code by offering practical advice on creating well-structured and clean scripts." />
  

<meta name="author" content="Daniel Hammocks, Senior Data Scientist at Mayor’s Office for Policing and Crime" />


<meta name="date" content="2024-08-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="code-syntax-and-spacing.html"/>
<link rel="next" href="error-handling.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/MOPAC-DS-Square.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#purpose-of-this-book"><i class="fa fa-check"></i>Purpose of this Book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the Author</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#why-coding-practices-matter"><i class="fa fa-check"></i><b>1.1</b> Why Coding Practices Matter</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-this-book-covers"><i class="fa fa-check"></i><b>1.2</b> What This Book Covers</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.3</b> How to Use This Book</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#who-this-book-is-for"><i class="fa fa-check"></i><b>1.4</b> Who This Book Is For</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#final-thoughts"><i class="fa fa-check"></i><b>1.5</b> Final Thoughts</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="naming-conventions.html"><a href="naming-conventions.html"><i class="fa fa-check"></i><b>2</b> Naming Conventions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="naming-conventions.html"><a href="naming-conventions.html#naming-scripts"><i class="fa fa-check"></i><b>2.1</b> Naming Scripts</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="naming-conventions.html"><a href="naming-conventions.html#best-practices-for-script-names"><i class="fa fa-check"></i><b>2.1.1</b> Best Practices for Script Names</a></li>
<li class="chapter" data-level="2.1.2" data-path="naming-conventions.html"><a href="naming-conventions.html#example-script-names"><i class="fa fa-check"></i><b>2.1.2</b> Example Script Names</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="naming-conventions.html"><a href="naming-conventions.html#naming-variables"><i class="fa fa-check"></i><b>2.2</b> Naming Variables</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="naming-conventions.html"><a href="naming-conventions.html#guidelines-for-variable-names"><i class="fa fa-check"></i><b>2.2.1</b> Guidelines for Variable Names</a></li>
<li class="chapter" data-level="2.2.2" data-path="naming-conventions.html"><a href="naming-conventions.html#example-variable-names"><i class="fa fa-check"></i><b>2.2.2</b> Example Variable Names</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="naming-conventions.html"><a href="naming-conventions.html#naming-functions"><i class="fa fa-check"></i><b>2.3</b> Naming Functions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="naming-conventions.html"><a href="naming-conventions.html#best-practices-for-function-names"><i class="fa fa-check"></i><b>2.3.1</b> Best Practices for Function Names</a></li>
<li class="chapter" data-level="2.3.2" data-path="naming-conventions.html"><a href="naming-conventions.html#example-function-names"><i class="fa fa-check"></i><b>2.3.2</b> Example Function Names</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="naming-conventions.html"><a href="naming-conventions.html#consistency-is-key"><i class="fa fa-check"></i><b>2.4</b> Consistency is Key</a></li>
<li class="chapter" data-level="2.5" data-path="naming-conventions.html"><a href="naming-conventions.html#summary"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="organising-scripts.html"><a href="organising-scripts.html"><i class="fa fa-check"></i><b>3</b> Organising Scripts</a>
<ul>
<li class="chapter" data-level="3.1" data-path="organising-scripts.html"><a href="organising-scripts.html#structuring-scripts"><i class="fa fa-check"></i><b>3.1</b> Structuring Scripts</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="organising-scripts.html"><a href="organising-scripts.html#logical-script-structure"><i class="fa fa-check"></i><b>3.1.1</b> Logical Script Structure</a></li>
<li class="chapter" data-level="3.1.2" data-path="organising-scripts.html"><a href="organising-scripts.html#using-functions-for-modularity"><i class="fa fa-check"></i><b>3.1.2</b> Using Functions for Modularity</a></li>
<li class="chapter" data-level="3.1.3" data-path="organising-scripts.html"><a href="organising-scripts.html#script-length"><i class="fa fa-check"></i><b>3.1.3</b> Script Length</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="organising-scripts.html"><a href="organising-scripts.html#organising-files-and-directories"><i class="fa fa-check"></i><b>3.2</b> Organising Files and Directories</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="organising-scripts.html"><a href="organising-scripts.html#directory-structure"><i class="fa fa-check"></i><b>3.2.1</b> Directory Structure</a></li>
<li class="chapter" data-level="3.2.2" data-path="organising-scripts.html"><a href="organising-scripts.html#data-files"><i class="fa fa-check"></i><b>3.2.2</b> Data Files</a></li>
<li class="chapter" data-level="3.2.3" data-path="organising-scripts.html"><a href="organising-scripts.html#scripts"><i class="fa fa-check"></i><b>3.2.3</b> Scripts</a></li>
<li class="chapter" data-level="3.2.4" data-path="organising-scripts.html"><a href="organising-scripts.html#output-files"><i class="fa fa-check"></i><b>3.2.4</b> Output Files</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="organising-scripts.html"><a href="organising-scripts.html#documentation"><i class="fa fa-check"></i><b>3.3</b> Documentation</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="organising-scripts.html"><a href="organising-scripts.html#readme-files"><i class="fa fa-check"></i><b>3.3.1</b> README Files</a></li>
<li class="chapter" data-level="3.3.2" data-path="organising-scripts.html"><a href="organising-scripts.html#inline-documentation"><i class="fa fa-check"></i><b>3.3.2</b> Inline Documentation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="organising-scripts.html"><a href="organising-scripts.html#summary-1"><i class="fa fa-check"></i><b>3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="commenting-code.html"><a href="commenting-code.html"><i class="fa fa-check"></i><b>4</b> Commenting Code</a>
<ul>
<li class="chapter" data-level="4.1" data-path="commenting-code.html"><a href="commenting-code.html#the-purpose-of-comments"><i class="fa fa-check"></i><b>4.1</b> The Purpose of Comments</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="commenting-code.html"><a href="commenting-code.html#why-comment-your-code"><i class="fa fa-check"></i><b>4.1.1</b> Why Comment Your Code?</a></li>
<li class="chapter" data-level="4.1.2" data-path="commenting-code.html"><a href="commenting-code.html#when-to-comment"><i class="fa fa-check"></i><b>4.1.2</b> When to Comment</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="commenting-code.html"><a href="commenting-code.html#best-practices-for-commenting"><i class="fa fa-check"></i><b>4.2</b> Best Practices for Commenting</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="commenting-code.html"><a href="commenting-code.html#writing-clear-and-concise-comments"><i class="fa fa-check"></i><b>4.2.1</b> Writing Clear and Concise Comments</a></li>
<li class="chapter" data-level="4.2.2" data-path="commenting-code.html"><a href="commenting-code.html#comment-placement"><i class="fa fa-check"></i><b>4.2.2</b> Comment Placement</a></li>
<li class="chapter" data-level="4.2.3" data-path="commenting-code.html"><a href="commenting-code.html#consistency-in-commenting"><i class="fa fa-check"></i><b>4.2.3</b> Consistency in Commenting</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="commenting-code.html"><a href="commenting-code.html#common-pitfalls-to-avoid"><i class="fa fa-check"></i><b>4.3</b> Common Pitfalls to Avoid</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="commenting-code.html"><a href="commenting-code.html#over-commenting"><i class="fa fa-check"></i><b>4.3.1</b> Over-Commenting</a></li>
<li class="chapter" data-level="4.3.2" data-path="commenting-code.html"><a href="commenting-code.html#commenting-out-code"><i class="fa fa-check"></i><b>4.3.2</b> Commenting Out Code</a></li>
<li class="chapter" data-level="4.3.3" data-path="commenting-code.html"><a href="commenting-code.html#vague-or-uninformative-comments"><i class="fa fa-check"></i><b>4.3.3</b> Vague or Uninformative Comments</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="commenting-code.html"><a href="commenting-code.html#advanced-commenting-techniques"><i class="fa fa-check"></i><b>4.4</b> Advanced Commenting Techniques</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="commenting-code.html"><a href="commenting-code.html#using-roxygen2-for-documentation"><i class="fa fa-check"></i><b>4.4.1</b> Using Roxygen2 for Documentation</a></li>
<li class="chapter" data-level="4.4.2" data-path="commenting-code.html"><a href="commenting-code.html#writing-to-do-comments"><i class="fa fa-check"></i><b>4.4.2</b> Writing “To-Do” Comments</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="commenting-code.html"><a href="commenting-code.html#summary-2"><i class="fa fa-check"></i><b>4.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html"><i class="fa fa-check"></i><b>5</b> Code Syntax and Spacing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#importance-of-consistent-syntax"><i class="fa fa-check"></i><b>5.1</b> Importance of Consistent Syntax</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#why-syntax-matters"><i class="fa fa-check"></i><b>5.1.1</b> Why Syntax Matters</a></li>
<li class="chapter" data-level="5.1.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#adopting-a-style-guide"><i class="fa fa-check"></i><b>5.1.2</b> Adopting a Style Guide</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#indentation"><i class="fa fa-check"></i><b>5.2</b> Indentation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#standard-indentation-practices"><i class="fa fa-check"></i><b>5.2.1</b> Standard Indentation Practices</a></li>
<li class="chapter" data-level="5.2.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#indentation-in-functions"><i class="fa fa-check"></i><b>5.2.2</b> Indentation in Functions</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#spacing"><i class="fa fa-check"></i><b>5.3</b> Spacing</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#spacing-around-operators"><i class="fa fa-check"></i><b>5.3.1</b> Spacing Around Operators</a></li>
<li class="chapter" data-level="5.3.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#spacing-after-commas-and-colons"><i class="fa fa-check"></i><b>5.3.2</b> Spacing After Commas and Colons</a></li>
<li class="chapter" data-level="5.3.3" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#spacing-in-function-calls"><i class="fa fa-check"></i><b>5.3.3</b> Spacing in Function Calls</a></li>
<li class="chapter" data-level="5.3.4" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#spacing-in-conditional-statements"><i class="fa fa-check"></i><b>5.3.4</b> Spacing in Conditional Statements</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#line-breaks"><i class="fa fa-check"></i><b>5.4</b> Line Breaks</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#breaking-long-lines"><i class="fa fa-check"></i><b>5.4.1</b> Breaking Long Lines</a></li>
<li class="chapter" data-level="5.4.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#avoiding-deep-nesting"><i class="fa fa-check"></i><b>5.4.2</b> Avoiding Deep Nesting</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#aligning-code"><i class="fa fa-check"></i><b>5.5</b> Aligning Code</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#aligning-assignments"><i class="fa fa-check"></i><b>5.5.1</b> Aligning Assignments</a></li>
<li class="chapter" data-level="5.5.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#aligning-function-arguments"><i class="fa fa-check"></i><b>5.5.2</b> Aligning Function Arguments</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#comment-placement-and-spacing"><i class="fa fa-check"></i><b>5.6</b> Comment Placement and Spacing</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#spacing-before-comments"><i class="fa fa-check"></i><b>5.6.1</b> Spacing Before Comments</a></li>
<li class="chapter" data-level="5.6.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#block-comment-formatting"><i class="fa fa-check"></i><b>5.6.2</b> Block Comment Formatting</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#avoiding-common-pitfalls"><i class="fa fa-check"></i><b>5.7</b> Avoiding Common Pitfalls</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#overuse-of-blank-lines"><i class="fa fa-check"></i><b>5.7.1</b> Overuse of Blank Lines</a></li>
<li class="chapter" data-level="5.7.2" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#avoiding-excessive-line-length"><i class="fa fa-check"></i><b>5.7.2</b> Avoiding Excessive Line Length</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="code-syntax-and-spacing.html"><a href="code-syntax-and-spacing.html#summary-3"><i class="fa fa-check"></i><b>5.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>6</b> Writing Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="writing-functions.html"><a href="writing-functions.html#the-purpose-of-functions"><i class="fa fa-check"></i><b>6.1</b> The Purpose of Functions</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="writing-functions.html"><a href="writing-functions.html#why-write-functions"><i class="fa fa-check"></i><b>6.1.1</b> Why Write Functions?</a></li>
<li class="chapter" data-level="6.1.2" data-path="writing-functions.html"><a href="writing-functions.html#when-to-write-a-function"><i class="fa fa-check"></i><b>6.1.2</b> When to Write a Function</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="writing-functions.html"><a href="writing-functions.html#structure-of-a-function"><i class="fa fa-check"></i><b>6.2</b> Structure of a Function</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="writing-functions.html"><a href="writing-functions.html#basic-function-structure"><i class="fa fa-check"></i><b>6.2.1</b> Basic Function Structure</a></li>
<li class="chapter" data-level="6.2.2" data-path="writing-functions.html"><a href="writing-functions.html#naming-conventions-1"><i class="fa fa-check"></i><b>6.2.2</b> Naming Conventions</a></li>
<li class="chapter" data-level="6.2.3" data-path="writing-functions.html"><a href="writing-functions.html#function-arguments"><i class="fa fa-check"></i><b>6.2.3</b> Function Arguments</a></li>
<li class="chapter" data-level="6.2.4" data-path="writing-functions.html"><a href="writing-functions.html#function-body"><i class="fa fa-check"></i><b>6.2.4</b> Function Body</a></li>
<li class="chapter" data-level="6.2.5" data-path="writing-functions.html"><a href="writing-functions.html#return-values"><i class="fa fa-check"></i><b>6.2.5</b> Return Values</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="writing-functions.html"><a href="writing-functions.html#documentation-and-commenting"><i class="fa fa-check"></i><b>6.3</b> Documentation and Commenting</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="writing-functions.html"><a href="writing-functions.html#documenting-functions-with-roxygen2"><i class="fa fa-check"></i><b>6.3.1</b> Documenting Functions with Roxygen2</a></li>
<li class="chapter" data-level="6.3.2" data-path="writing-functions.html"><a href="writing-functions.html#commenting-inside-functions"><i class="fa fa-check"></i><b>6.3.2</b> Commenting Inside Functions</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="writing-functions.html"><a href="writing-functions.html#testing-functions"><i class="fa fa-check"></i><b>6.4</b> Testing Functions</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="writing-functions.html"><a href="writing-functions.html#why-test-functions"><i class="fa fa-check"></i><b>6.4.1</b> Why Test Functions?</a></li>
<li class="chapter" data-level="6.4.2" data-path="writing-functions.html"><a href="writing-functions.html#writing-simple-tests"><i class="fa fa-check"></i><b>6.4.2</b> Writing Simple Tests</a></li>
<li class="chapter" data-level="6.4.3" data-path="writing-functions.html"><a href="writing-functions.html#automated-testing-with-testthat"><i class="fa fa-check"></i><b>6.4.3</b> Automated Testing with <code>testthat</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="writing-functions.html"><a href="writing-functions.html#advanced-function-techniques"><i class="fa fa-check"></i><b>6.5</b> Advanced Function Techniques</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="writing-functions.html"><a href="writing-functions.html#function-factories"><i class="fa fa-check"></i><b>6.5.1</b> Function Factories</a></li>
<li class="chapter" data-level="6.5.2" data-path="writing-functions.html"><a href="writing-functions.html#closures"><i class="fa fa-check"></i><b>6.5.2</b> Closures</a></li>
<li class="chapter" data-level="6.5.3" data-path="writing-functions.html"><a href="writing-functions.html#vectorised-functions"><i class="fa fa-check"></i><b>6.5.3</b> Vectorised Functions</a></li>
<li class="chapter" data-level="6.5.4" data-path="writing-functions.html"><a href="writing-functions.html#anonymous-functions"><i class="fa fa-check"></i><b>6.5.4</b> Anonymous Functions</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="writing-functions.html"><a href="writing-functions.html#avoiding-common-pitfalls-in-function-writing"><i class="fa fa-check"></i><b>6.6</b> Avoiding Common Pitfalls in Function Writing</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="writing-functions.html"><a href="writing-functions.html#overloading-functions"><i class="fa fa-check"></i><b>6.6.1</b> Overloading Functions</a></li>
<li class="chapter" data-level="6.6.2" data-path="writing-functions.html"><a href="writing-functions.html#handling-errors-gracefully"><i class="fa fa-check"></i><b>6.6.2</b> Handling Errors Gracefully</a></li>
<li class="chapter" data-level="6.6.3" data-path="writing-functions.html"><a href="writing-functions.html#avoiding-side-effects"><i class="fa fa-check"></i><b>6.6.3</b> Avoiding Side Effects</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="writing-functions.html"><a href="writing-functions.html#summary-4"><i class="fa fa-check"></i><b>6.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="error-handling.html"><a href="error-handling.html"><i class="fa fa-check"></i><b>7</b> Error Handling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="error-handling.html"><a href="error-handling.html#introduction-to-error-handling"><i class="fa fa-check"></i><b>7.1</b> Introduction to Error Handling</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="error-handling.html"><a href="error-handling.html#what-is-error-handling"><i class="fa fa-check"></i><b>7.1.1</b> What is Error Handling?</a></li>
<li class="chapter" data-level="7.1.2" data-path="error-handling.html"><a href="error-handling.html#types-of-errors-in-r"><i class="fa fa-check"></i><b>7.1.2</b> Types of Errors in R</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="error-handling.html"><a href="error-handling.html#basic-error-handling-with-try-and-trycatch"><i class="fa fa-check"></i><b>7.2</b> Basic Error Handling with <code>try</code> and <code>tryCatch</code></a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="error-handling.html"><a href="error-handling.html#using-try"><i class="fa fa-check"></i><b>7.2.1</b> Using <code>try</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="error-handling.html"><a href="error-handling.html#using-trycatch"><i class="fa fa-check"></i><b>7.2.2</b> Using <code>tryCatch</code></a></li>
<li class="chapter" data-level="7.2.3" data-path="error-handling.html"><a href="error-handling.html#returning-values-from-trycatch"><i class="fa fa-check"></i><b>7.2.3</b> Returning Values from <code>tryCatch</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="error-handling.html"><a href="error-handling.html#custom-error-messages-with-stop-warning-and-message"><i class="fa fa-check"></i><b>7.3</b> Custom Error Messages with <code>stop</code>, <code>warning</code>, and <code>message</code></a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="error-handling.html"><a href="error-handling.html#using-stop-for-critical-errors"><i class="fa fa-check"></i><b>7.3.1</b> Using <code>stop</code> for Critical Errors</a></li>
<li class="chapter" data-level="7.3.2" data-path="error-handling.html"><a href="error-handling.html#using-warning-for-non-critical-issues"><i class="fa fa-check"></i><b>7.3.2</b> Using <code>warning</code> for Non-Critical Issues</a></li>
<li class="chapter" data-level="7.3.3" data-path="error-handling.html"><a href="error-handling.html#using-message-for-informational-messages"><i class="fa fa-check"></i><b>7.3.3</b> Using <code>message</code> for Informational Messages</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="error-handling.html"><a href="error-handling.html#defensive-programming"><i class="fa fa-check"></i><b>7.4</b> Defensive Programming</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="error-handling.html"><a href="error-handling.html#input-validation"><i class="fa fa-check"></i><b>7.4.1</b> Input Validation</a></li>
<li class="chapter" data-level="7.4.2" data-path="error-handling.html"><a href="error-handling.html#asserting-conditions"><i class="fa fa-check"></i><b>7.4.2</b> Asserting Conditions</a></li>
<li class="chapter" data-level="7.4.3" data-path="error-handling.html"><a href="error-handling.html#handling-edge-cases"><i class="fa fa-check"></i><b>7.4.3</b> Handling Edge Cases</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="error-handling.html"><a href="error-handling.html#best-practices-for-error-handling"><i class="fa fa-check"></i><b>7.5</b> Best Practices for Error Handling</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="error-handling.html"><a href="error-handling.html#provide-clear-and-informative-messages"><i class="fa fa-check"></i><b>7.5.1</b> Provide Clear and Informative Messages</a></li>
<li class="chapter" data-level="7.5.2" data-path="error-handling.html"><a href="error-handling.html#use-trycatch-for-anticipated-errors"><i class="fa fa-check"></i><b>7.5.2</b> Use <code>tryCatch</code> for Anticipated Errors</a></li>
<li class="chapter" data-level="7.5.3" data-path="error-handling.html"><a href="error-handling.html#log-errors-in-production-code"><i class="fa fa-check"></i><b>7.5.3</b> Log Errors in Production Code</a></li>
<li class="chapter" data-level="7.5.4" data-path="error-handling.html"><a href="error-handling.html#test-error-handling"><i class="fa fa-check"></i><b>7.5.4</b> Test Error Handling</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="error-handling.html"><a href="error-handling.html#summary-5"><i class="fa fa-check"></i><b>7.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="version-control-with-git.html"><a href="version-control-with-git.html"><i class="fa fa-check"></i><b>8</b> Version Control with Git</a>
<ul>
<li class="chapter" data-level="8.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#introduction-to-git"><i class="fa fa-check"></i><b>8.1</b> Introduction to Git</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#benefits-of-using-git"><i class="fa fa-check"></i><b>8.1.1</b> Benefits of Using Git</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#setting-up-git"><i class="fa fa-check"></i><b>8.2</b> Setting Up Git</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#installing-git"><i class="fa fa-check"></i><b>8.2.1</b> Installing Git</a></li>
<li class="chapter" data-level="8.2.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#configuring-git"><i class="fa fa-check"></i><b>8.2.2</b> Configuring Git</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="version-control-with-git.html"><a href="version-control-with-git.html#basic-git-workflow"><i class="fa fa-check"></i><b>8.3</b> Basic Git Workflow</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#initialising-a-repository"><i class="fa fa-check"></i><b>8.3.1</b> Initialising a Repository</a></li>
<li class="chapter" data-level="8.3.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#staging-and-committing-changes"><i class="fa fa-check"></i><b>8.3.2</b> Staging and Committing Changes</a></li>
<li class="chapter" data-level="8.3.3" data-path="version-control-with-git.html"><a href="version-control-with-git.html#viewing-repository-status"><i class="fa fa-check"></i><b>8.3.3</b> Viewing Repository Status</a></li>
<li class="chapter" data-level="8.3.4" data-path="version-control-with-git.html"><a href="version-control-with-git.html#viewing-commit-history"><i class="fa fa-check"></i><b>8.3.4</b> Viewing Commit History</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="version-control-with-git.html"><a href="version-control-with-git.html#branching-and-merging"><i class="fa fa-check"></i><b>8.4</b> Branching and Merging</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#creating-and-switching-branches"><i class="fa fa-check"></i><b>8.4.1</b> Creating and Switching Branches</a></li>
<li class="chapter" data-level="8.4.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#merging-branches"><i class="fa fa-check"></i><b>8.4.2</b> Merging Branches</a></li>
<li class="chapter" data-level="8.4.3" data-path="version-control-with-git.html"><a href="version-control-with-git.html#resolving-merge-conflicts"><i class="fa fa-check"></i><b>8.4.3</b> Resolving Merge Conflicts</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="version-control-with-git.html"><a href="version-control-with-git.html#working-with-remote-repositories"><i class="fa fa-check"></i><b>8.5</b> Working with Remote Repositories</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#cloning-a-repository"><i class="fa fa-check"></i><b>8.5.1</b> Cloning a Repository</a></li>
<li class="chapter" data-level="8.5.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#before-starting-work-ensure-your-local-repository-is-up-to-date-by-pulling-the-latest-changes"><i class="fa fa-check"></i><b>8.5.2</b> Before starting work, ensure your local repository is up to date by pulling the latest changes:</a></li>
<li class="chapter" data-level="8.5.3" data-path="version-control-with-git.html"><a href="version-control-with-git.html#pushing-changes"><i class="fa fa-check"></i><b>8.5.3</b> Pushing Changes</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="version-control-with-git.html"><a href="version-control-with-git.html#advanced-git-features"><i class="fa fa-check"></i><b>8.6</b> Advanced Git Features</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#stashing-changes"><i class="fa fa-check"></i><b>8.6.1</b> Stashing Changes</a></li>
<li class="chapter" data-level="8.6.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#rebasing"><i class="fa fa-check"></i><b>8.6.2</b> Rebasing</a></li>
<li class="chapter" data-level="8.6.3" data-path="version-control-with-git.html"><a href="version-control-with-git.html#tags"><i class="fa fa-check"></i><b>8.6.3</b> Tags</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="version-control-with-git.html"><a href="version-control-with-git.html#git-in-rstudio"><i class="fa fa-check"></i><b>8.7</b> Git in RStudio</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="version-control-with-git.html"><a href="version-control-with-git.html#setting-up-git-in-rstudio"><i class="fa fa-check"></i><b>8.7.1</b> Setting Up Git in RStudio</a></li>
<li class="chapter" data-level="8.7.2" data-path="version-control-with-git.html"><a href="version-control-with-git.html#using-git-in-rstudio"><i class="fa fa-check"></i><b>8.7.2</b> Using Git in RStudio</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="version-control-with-git.html"><a href="version-control-with-git.html#best-practices-for-using-git"><i class="fa fa-check"></i><b>8.8</b> Best Practices for Using Git</a></li>
<li class="chapter" data-level="8.9" data-path="version-control-with-git.html"><a href="version-control-with-git.html#summary-6"><i class="fa fa-check"></i><b>8.9</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html"><i class="fa fa-check"></i><b>9</b> Reproducibility and Documentation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#introduction-to-reproducibility"><i class="fa fa-check"></i><b>9.1</b> Introduction to Reproducibility</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#what-is-reproducibility"><i class="fa fa-check"></i><b>9.1.1</b> What is Reproducibility?</a></li>
<li class="chapter" data-level="9.1.2" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#challenges-to-reproducibility"><i class="fa fa-check"></i><b>9.1.2</b> Challenges to Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#setting-up-a-reproducible-environment"><i class="fa fa-check"></i><b>9.2</b> Setting Up a Reproducible Environment</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#managing-r-and-package-versions"><i class="fa fa-check"></i><b>9.2.1</b> Managing R and Package Versions</a></li>
<li class="chapter" data-level="9.2.2" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#using-rmarkdown-for-reproducible-reports"><i class="fa fa-check"></i><b>9.2.2</b> Using RMarkdown for Reproducible Reports</a></li>
<li class="chapter" data-level="9.2.3" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#version-control-with-git-1"><i class="fa fa-check"></i><b>9.2.3</b> Version Control with Git</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#sharing-your-work"><i class="fa fa-check"></i><b>9.3</b> Sharing Your Work</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#sharing-code-and-data"><i class="fa fa-check"></i><b>9.3.1</b> Sharing Code and Data</a></li>
<li class="chapter" data-level="9.3.2" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#creating-reproducible-examples"><i class="fa fa-check"></i><b>9.3.2</b> Creating Reproducible Examples</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#documentation-for-reproducibility"><i class="fa fa-check"></i><b>9.4</b> Documentation for Reproducibility</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#documenting-data"><i class="fa fa-check"></i><b>9.4.1</b> Documenting Data</a></li>
<li class="chapter" data-level="9.4.2" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#writing-a-readme-file"><i class="fa fa-check"></i><b>9.4.2</b> Writing a README File</a></li>
<li class="chapter" data-level="9.4.3" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#creating-a-reproducibility-checklist"><i class="fa fa-check"></i><b>9.4.3</b> Creating a Reproducibility Checklist</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#case-study-reproducible-analysis-in-r"><i class="fa fa-check"></i><b>9.5</b> Case Study: Reproducible Analysis in R</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#overview"><i class="fa fa-check"></i><b>9.5.1</b> Overview</a></li>
<li class="chapter" data-level="9.5.2" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#setting-up-the-project"><i class="fa fa-check"></i><b>9.5.2</b> Setting Up the Project</a></li>
<li class="chapter" data-level="9.5.3" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#documenting-the-analysis"><i class="fa fa-check"></i><b>9.5.3</b> Documenting the Analysis</a></li>
<li class="chapter" data-level="9.5.4" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#sharing-the-project"><i class="fa fa-check"></i><b>9.5.4</b> Sharing the Project</a></li>
<li class="chapter" data-level="9.5.5" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#running-the-analysis"><i class="fa fa-check"></i><b>9.5.5</b> Running the Analysis</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="reproducibility-and-documentation.html"><a href="reproducibility-and-documentation.html#summary-7"><i class="fa fa-check"></i><b>9.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>10</b> Conclusion</a>
<ul>
<li class="chapter" data-level="10.1" data-path="conclusion.html"><a href="conclusion.html#recap-of-key-concepts"><i class="fa fa-check"></i><b>10.1</b> Recap of Key Concepts</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="conclusion.html"><a href="conclusion.html#introduction-1"><i class="fa fa-check"></i><b>10.1.1</b> Introduction</a></li>
<li class="chapter" data-level="10.1.2" data-path="conclusion.html"><a href="conclusion.html#naming-conventions-2"><i class="fa fa-check"></i><b>10.1.2</b> Naming Conventions</a></li>
<li class="chapter" data-level="10.1.3" data-path="conclusion.html"><a href="conclusion.html#organising-scripts-1"><i class="fa fa-check"></i><b>10.1.3</b> Organising Scripts</a></li>
<li class="chapter" data-level="10.1.4" data-path="conclusion.html"><a href="conclusion.html#commenting-code-1"><i class="fa fa-check"></i><b>10.1.4</b> Commenting Code</a></li>
<li class="chapter" data-level="10.1.5" data-path="conclusion.html"><a href="conclusion.html#syntax-and-spacing"><i class="fa fa-check"></i><b>10.1.5</b> Syntax and Spacing</a></li>
<li class="chapter" data-level="10.1.6" data-path="conclusion.html"><a href="conclusion.html#writing-functions-1"><i class="fa fa-check"></i><b>10.1.6</b> Writing Functions</a></li>
<li class="chapter" data-level="10.1.7" data-path="conclusion.html"><a href="conclusion.html#error-handling-1"><i class="fa fa-check"></i><b>10.1.7</b> Error Handling</a></li>
<li class="chapter" data-level="10.1.8" data-path="conclusion.html"><a href="conclusion.html#version-control-with-git-2"><i class="fa fa-check"></i><b>10.1.8</b> Version Control with Git</a></li>
<li class="chapter" data-level="10.1.9" data-path="conclusion.html"><a href="conclusion.html#reproducibility-and-documentation-1"><i class="fa fa-check"></i><b>10.1.9</b> Reproducibility and Documentation</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="conclusion.html"><a href="conclusion.html#the-importance-of-adopting-best-practices"><i class="fa fa-check"></i><b>10.2</b> The Importance of Adopting Best Practices</a></li>
<li class="chapter" data-level="10.3" data-path="conclusion.html"><a href="conclusion.html#moving-forward"><i class="fa fa-check"></i><b>10.3</b> Moving Forward</a></li>
<li class="chapter" data-level="10.4" data-path="conclusion.html"><a href="conclusion.html#final-thoughts-1"><i class="fa fa-check"></i><b>10.4</b> Final Thoughts</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Best Coding Practices in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="writing-functions" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Writing Functions<a href="writing-functions.html#writing-functions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Functions are fundamental building blocks in R programming. They allow you to encapsulate code logic into reusable, organised units. Writing well-structured functions not only enhances code readability but also improves maintainability, scalability, and reduces redundancy. In this chapter, we’ll explore best practices for writing functions in R, including function structure, parameter handling, return values, and documentation.</p>
<div id="the-purpose-of-functions" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> The Purpose of Functions<a href="writing-functions.html#the-purpose-of-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="why-write-functions" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Why Write Functions?<a href="writing-functions.html#why-write-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Functions serve several key purposes in programming:</p>
<ul>
<li><strong>Modularity:</strong> Functions break your code into smaller, manageable pieces, making it easier to understand and maintain.</li>
<li><strong>Reusability:</strong> Functions can be reused across different scripts and projects, reducing code duplication and errors.</li>
<li><strong>Abstraction:</strong> Functions abstract away complex logic, allowing you to focus on higher-level processes.</li>
<li><strong>Testing:</strong> Functions make it easier to isolate and test specific parts of your code.</li>
</ul>
</div>
<div id="when-to-write-a-function" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> When to Write a Function<a href="writing-functions.html#when-to-write-a-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Consider writing a function when:</p>
<ul>
<li><strong>Code is Repeated:</strong> If you find yourself copying and pasting the same code in multiple places, it’s a good candidate for a function.</li>
<li><strong>Complexity Increases:</strong> As the complexity of your code grows, encapsulating logic in functions helps manage that complexity.</li>
<li><strong>Task Automation:</strong> When you need to perform a task repeatedly with different inputs, functions make this process more efficient.</li>
</ul>
</div>
</div>
<div id="structure-of-a-function" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Structure of a Function<a href="writing-functions.html#structure-of-a-function" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="basic-function-structure" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Basic Function Structure<a href="writing-functions.html#basic-function-structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An R function typically consists of three parts:</p>
<ul>
<li><p><strong>Function Name:</strong> Descriptive name that indicates the purpose of the function.</p></li>
<li><p><strong>Arguments:</strong> Input parameters that the function will use.</p></li>
<li><p><strong>Body:</strong> The code that performs the function’s operations.</p></li>
<li><p><strong>Return Value:</strong> The output of the function, often explicitly stated using <code>return()</code>.</p></li>
<li><p><strong>Example:</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="writing-functions.html#cb41-1" tabindex="-1"></a>calculate_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb41-2"><a href="writing-functions.html#cb41-2" tabindex="-1"></a>  <span class="co"># Remove NA values and calculate the mean</span></span>
<span id="cb41-3"><a href="writing-functions.html#cb41-3" tabindex="-1"></a>  mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb41-4"><a href="writing-functions.html#cb41-4" tabindex="-1"></a>  <span class="fu">return</span>(mean_value)</span>
<span id="cb41-5"><a href="writing-functions.html#cb41-5" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
</div>
<div id="naming-conventions-1" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Naming Conventions<a href="writing-functions.html#naming-conventions-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>Descriptive Names:</strong> Use descriptive names for functions that clearly indicate what the function does. For example, <code>calculate_mean</code> is more informative than <code>calcMean</code>.</li>
<li><strong>Verb-Noun Format:</strong> A common convention is to use a verb-noun format, such as <code>plot_data</code>, <code>get_summary</code>, or <code>calculate_average</code>.</li>
<li><strong>Consistency:</strong> Be consistent with naming conventions throughout your codebase.</li>
</ul>
</div>
<div id="function-arguments" class="section level3 hasAnchor" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Function Arguments<a href="writing-functions.html#function-arguments" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Use Default Values:</strong> Provide default values for arguments when appropriate. This makes the function more flexible and easier to use.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="writing-functions.html#cb42-1" tabindex="-1"></a>calculate_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb42-2"><a href="writing-functions.html#cb42-2" tabindex="-1"></a>  mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> na.rm)</span>
<span id="cb42-3"><a href="writing-functions.html#cb42-3" tabindex="-1"></a>  <span class="fu">return</span>(mean_value)</span>
<span id="cb42-4"><a href="writing-functions.html#cb42-4" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Argument Order:</strong> Place arguments in a logical order, usually starting with the most essential arguments and ending with optional ones.</p></li>
<li><p><strong>Dot Arguments (<code>...</code>):</strong> Use the <code>...</code> argument to allow for additional arguments to be passed to other functions within your function.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="writing-functions.html#cb43-1" tabindex="-1"></a>plot_with_options <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, ...) {</span>
<span id="cb43-2"><a href="writing-functions.html#cb43-2" tabindex="-1"></a>  <span class="fu">plot</span>(x, y, ...)</span>
<span id="cb43-3"><a href="writing-functions.html#cb43-3" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
</div>
<div id="function-body" class="section level3 hasAnchor" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> Function Body<a href="writing-functions.html#function-body" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Keep It Simple:</strong> The body of a function should be as simple and concise as possible. If a function becomes too long or complex, consider breaking it into smaller functions.</p></li>
<li><p><strong>Use Temporary Variables:</strong> Use temporary variables within the function to store intermediate results. This makes the code more readable and easier to debug.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="writing-functions.html#cb44-1" tabindex="-1"></a>calculate_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb44-2"><a href="writing-functions.html#cb44-2" tabindex="-1"></a>  mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-3"><a href="writing-functions.html#cb44-3" tabindex="-1"></a>  sd_value <span class="ot">&lt;-</span> <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-4"><a href="writing-functions.html#cb44-4" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">mean =</span> mean_value, <span class="at">sd =</span> sd_value))</span>
<span id="cb44-5"><a href="writing-functions.html#cb44-5" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Avoid Side Effects:</strong> Functions should avoid altering global variables or states outside of their scope. This makes them more predictable and easier to debug.</p></li>
</ul>
</div>
<div id="return-values" class="section level3 hasAnchor" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> Return Values<a href="writing-functions.html#return-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Explicit Returns:</strong> Use the <code>return()</code> function to explicitly specify the output of your function. This clarifies what the function returns and can prevent unintended behavior.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="writing-functions.html#cb45-1" tabindex="-1"></a>calculate_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb45-2"><a href="writing-functions.html#cb45-2" tabindex="-1"></a>  result <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span>
<span id="cb45-3"><a href="writing-functions.html#cb45-3" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb45-4"><a href="writing-functions.html#cb45-4" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Return Multiple Values:</strong> To return multiple values, use a list. This allows you to package several outputs into a single return object.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="writing-functions.html#cb46-1" tabindex="-1"></a>calculate_stats <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-2"><a href="writing-functions.html#cb46-2" tabindex="-1"></a>  mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-3"><a href="writing-functions.html#cb46-3" tabindex="-1"></a>  sd_value <span class="ot">&lt;-</span> <span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-4"><a href="writing-functions.html#cb46-4" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">mean =</span> mean_value, <span class="at">sd =</span> sd_value))</span>
<span id="cb46-5"><a href="writing-functions.html#cb46-5" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
</div>
</div>
<div id="documentation-and-commenting" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Documentation and Commenting<a href="writing-functions.html#documentation-and-commenting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="documenting-functions-with-roxygen2" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Documenting Functions with Roxygen2<a href="writing-functions.html#documenting-functions-with-roxygen2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Roxygen2 is a popular tool for documenting R functions. It allows you to write documentation comments directly above your function, which can then be converted into formal documentation.</p>
<ul>
<li><p><strong>Basic Roxygen2 Template:</strong></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="writing-functions.html#cb47-1" tabindex="-1"></a><span class="co">#&#39; Calculate the mean of a numeric vector</span></span>
<span id="cb47-2"><a href="writing-functions.html#cb47-2" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb47-3"><a href="writing-functions.html#cb47-3" tabindex="-1"></a><span class="co">#&#39; This function calculates the mean of a numeric vector, excluding any NA values.</span></span>
<span id="cb47-4"><a href="writing-functions.html#cb47-4" tabindex="-1"></a><span class="co">#&#39;</span></span>
<span id="cb47-5"><a href="writing-functions.html#cb47-5" tabindex="-1"></a><span class="co">#&#39; @param x A numeric vector.</span></span>
<span id="cb47-6"><a href="writing-functions.html#cb47-6" tabindex="-1"></a><span class="co">#&#39; @param na.rm A logical value indicating whether NA values should be removed.</span></span>
<span id="cb47-7"><a href="writing-functions.html#cb47-7" tabindex="-1"></a><span class="co">#&#39; @return The mean of the vector.</span></span>
<span id="cb47-8"><a href="writing-functions.html#cb47-8" tabindex="-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb47-9"><a href="writing-functions.html#cb47-9" tabindex="-1"></a>calculate_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb47-10"><a href="writing-functions.html#cb47-10" tabindex="-1"></a>  mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> na.rm)</span>
<span id="cb47-11"><a href="writing-functions.html#cb47-11" tabindex="-1"></a>  <span class="fu">return</span>(mean_value)</span>
<span id="cb47-12"><a href="writing-functions.html#cb47-12" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Key Roxygen2 Tags:</strong></p>
<ul>
<li><code>@param</code>: Describes each function parameter.</li>
<li><code>@return</code>: Describes the return value.</li>
<li><code>@export</code>: Indicates that the function should be made available to users of your package.</li>
<li><code>@examples</code>: Provides examples of how to use the function.</li>
</ul></li>
</ul>
</div>
<div id="commenting-inside-functions" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> Commenting Inside Functions<a href="writing-functions.html#commenting-inside-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Explain Complex Logic:</strong> Use comments inside your function to explain complex logic or non-obvious decisions. This helps others (and your future self) understand the code.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="writing-functions.html#cb48-1" tabindex="-1"></a>calculate_variance <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb48-2"><a href="writing-functions.html#cb48-2" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb48-3"><a href="writing-functions.html#cb48-3" tabindex="-1"></a>  mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-4"><a href="writing-functions.html#cb48-4" tabindex="-1"></a>  <span class="co"># Subtract mean and square the result</span></span>
<span id="cb48-5"><a href="writing-functions.html#cb48-5" tabindex="-1"></a>  squared_diffs <span class="ot">&lt;-</span> (x <span class="sc">-</span> mean_x)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb48-6"><a href="writing-functions.html#cb48-6" tabindex="-1"></a>  variance <span class="ot">&lt;-</span> <span class="fu">sum</span>(squared_diffs, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> (n <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb48-7"><a href="writing-functions.html#cb48-7" tabindex="-1"></a>  <span class="fu">return</span>(variance)</span>
<span id="cb48-8"><a href="writing-functions.html#cb48-8" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Comment Sections, Not Every Line:</strong> Avoid over-commenting by focusing on sections of code rather than individual lines, unless a line is particularly complex or non-intuitive.</p></li>
</ul>
</div>
</div>
<div id="testing-functions" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Testing Functions<a href="writing-functions.html#testing-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="why-test-functions" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Why Test Functions?<a href="writing-functions.html#why-test-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Testing functions is crucial to ensure they behave as expected. Writing tests helps catch errors early, simplifies debugging, and provides confidence that changes in the code don’t introduce new bugs.</p>
</div>
<div id="writing-simple-tests" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> Writing Simple Tests<a href="writing-functions.html#writing-simple-tests" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>Test Different Scenarios:</strong> Write tests that cover a range of input scenarios, including typical cases, edge cases, and error cases.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="writing-functions.html#cb49-1" tabindex="-1"></a><span class="co"># Test for a standard numeric vector</span></span>
<span id="cb49-2"><a href="writing-functions.html#cb49-2" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">calculate_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)) <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb49-3"><a href="writing-functions.html#cb49-3" tabindex="-1"></a></span>
<span id="cb49-4"><a href="writing-functions.html#cb49-4" tabindex="-1"></a><span class="co"># Test for a vector with NA values</span></span>
<span id="cb49-5"><a href="writing-functions.html#cb49-5" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">calculate_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="dv">5</span>)) <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb49-6"><a href="writing-functions.html#cb49-6" tabindex="-1"></a></span>
<span id="cb49-7"><a href="writing-functions.html#cb49-7" tabindex="-1"></a><span class="co"># Test for an empty vector</span></span>
<span id="cb49-8"><a href="writing-functions.html#cb49-8" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="fu">is.na</span>(<span class="fu">calculate_mean</span>(<span class="fu">c</span>())))</span></code></pre></div></li>
<li><p><strong>Use <code>stopifnot()</code>:</strong> The <code>stopifnot()</code> function is a simple way to assert that a condition is true. If the condition is false, it will stop execution and print an error message.</p></li>
</ul>
</div>
<div id="automated-testing-with-testthat" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> Automated Testing with <code>testthat</code><a href="writing-functions.html#automated-testing-with-testthat" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For larger projects, consider using the <code>testthat</code> package to automate testing. <code>testthat</code> provides a framework for writing and running tests, making it easier to manage and scale your tests.</p>
<ul>
<li><p><strong>Basic <code>testthat</code> Example:</strong></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="writing-functions.html#cb50-1" tabindex="-1"></a><span class="fu">library</span>(testthat)</span>
<span id="cb50-2"><a href="writing-functions.html#cb50-2" tabindex="-1"></a></span>
<span id="cb50-3"><a href="writing-functions.html#cb50-3" tabindex="-1"></a><span class="fu">test_that</span>(<span class="st">&quot;calculate_mean works correctly&quot;</span>, {</span>
<span id="cb50-4"><a href="writing-functions.html#cb50-4" tabindex="-1"></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)), <span class="dv">3</span>)</span>
<span id="cb50-5"><a href="writing-functions.html#cb50-5" tabindex="-1"></a>  <span class="fu">expect_equal</span>(<span class="fu">calculate_mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="dv">5</span>)), <span class="dv">3</span>)</span>
<span id="cb50-6"><a href="writing-functions.html#cb50-6" tabindex="-1"></a>  <span class="fu">expect_true</span>(<span class="fu">is.na</span>(<span class="fu">calculate_mean</span>(<span class="fu">c</span>())))</span>
<span id="cb50-7"><a href="writing-functions.html#cb50-7" tabindex="-1"></a>})</span></code></pre></div></li>
</ul>
</div>
</div>
<div id="advanced-function-techniques" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Advanced Function Techniques<a href="writing-functions.html#advanced-function-techniques" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="function-factories" class="section level3 hasAnchor" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Function Factories<a href="writing-functions.html#function-factories" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Function factories are functions that create and return other functions. This is useful when you need to generate customised functions dynamically.</p>
<ul>
<li><p><strong>Example:</strong></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="writing-functions.html#cb51-1" tabindex="-1"></a>power_function_factory <span class="ot">&lt;-</span> <span class="cf">function</span>(power) {</span>
<span id="cb51-2"><a href="writing-functions.html#cb51-2" tabindex="-1"></a>  <span class="cf">function</span>(x) {</span>
<span id="cb51-3"><a href="writing-functions.html#cb51-3" tabindex="-1"></a>    x<span class="sc">^</span>power</span>
<span id="cb51-4"><a href="writing-functions.html#cb51-4" tabindex="-1"></a>  }</span>
<span id="cb51-5"><a href="writing-functions.html#cb51-5" tabindex="-1"></a>}</span>
<span id="cb51-6"><a href="writing-functions.html#cb51-6" tabindex="-1"></a></span>
<span id="cb51-7"><a href="writing-functions.html#cb51-7" tabindex="-1"></a>square <span class="ot">&lt;-</span> <span class="fu">power_function_factory</span>(<span class="dv">2</span>)</span>
<span id="cb51-8"><a href="writing-functions.html#cb51-8" tabindex="-1"></a>cube <span class="ot">&lt;-</span> <span class="fu">power_function_factory</span>(<span class="dv">3</span>)</span></code></pre></div></li>
</ul>
</div>
<div id="closures" class="section level3 hasAnchor" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> Closures<a href="writing-functions.html#closures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A closure is a function that captures the environment in which it was created. Closures are powerful in creating functions with memory, where the function retains access to variables from its creation context.</p>
<ul>
<li><p><strong>Example:</strong></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="writing-functions.html#cb52-1" tabindex="-1"></a>make_counter <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb52-2"><a href="writing-functions.html#cb52-2" tabindex="-1"></a>  count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb52-3"><a href="writing-functions.html#cb52-3" tabindex="-1"></a>  <span class="cf">function</span>() {</span>
<span id="cb52-4"><a href="writing-functions.html#cb52-4" tabindex="-1"></a>    count <span class="ot">&lt;&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb52-5"><a href="writing-functions.html#cb52-5" tabindex="-1"></a>    <span class="fu">return</span>(count)</span>
<span id="cb52-6"><a href="writing-functions.html#cb52-6" tabindex="-1"></a>  }</span>
<span id="cb52-7"><a href="writing-functions.html#cb52-7" tabindex="-1"></a>}</span>
<span id="cb52-8"><a href="writing-functions.html#cb52-8" tabindex="-1"></a></span>
<span id="cb52-9"><a href="writing-functions.html#cb52-9" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="fu">make_counter</span>()</span>
<span id="cb52-10"><a href="writing-functions.html#cb52-10" tabindex="-1"></a><span class="fu">counter</span>()  <span class="co"># Returns 1</span></span>
<span id="cb52-11"><a href="writing-functions.html#cb52-11" tabindex="-1"></a><span class="fu">counter</span>()  <span class="co"># Returns 2</span></span></code></pre></div></li>
</ul>
</div>
<div id="vectorised-functions" class="section level3 hasAnchor" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> Vectorised Functions<a href="writing-functions.html#vectorised-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vectorised functions operate on entire vectors or arrays of data at once, rather than using loops to iterate over elements. In R, many built-in functions are vectorised, which makes them not only more concise but also significantly faster due to underlying optimisations.</p>
<ul>
<li><p><strong>Example of a Vectorised Function:</strong></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="writing-functions.html#cb53-1" tabindex="-1"></a><span class="co"># Squaring each element in a vector</span></span>
<span id="cb53-2"><a href="writing-functions.html#cb53-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb53-3"><a href="writing-functions.html#cb53-3" tabindex="-1"></a>squared_x <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span></span></code></pre></div></li>
<li><p><strong>Advantages:</strong></p>
<ul>
<li><strong>Performance:</strong> Vectorised operations are typically faster because they are optimised in R’s underlying C code.</li>
<li><strong>Conciseness:</strong> Vectorised code is often more concise and easier to read.</li>
<li><strong>Avoiding Loops:</strong> While loops can be necessary in some cases, vectorisation often removes the need for explicit loops.</li>
</ul></li>
</ul>
</div>
<div id="anonymous-functions" class="section level3 hasAnchor" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> Anonymous Functions<a href="writing-functions.html#anonymous-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Anonymous functions, also known as lambda functions, are functions that are defined without being named. These are particularly useful for quick, one-off operations that don’t require a full function definition.</p>
<ul>
<li><p><strong>Using Anonymous Functions with <code>apply()</code>:</strong></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="writing-functions.html#cb54-1" tabindex="-1"></a><span class="co"># Applying an anonymous function to each element in a list</span></span>
<span id="cb54-2"><a href="writing-functions.html#cb54-2" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div></li>
<li><p><strong>When to Use:</strong></p>
<ul>
<li><strong>Inline Operations:</strong> Use anonymous functions when the operation is simple and will only be used in one place.</li>
<li><strong>Temporary Use:</strong> They are ideal for temporary, throwaway functionality that doesn’t require reuse.</li>
</ul></li>
</ul>
</div>
</div>
<div id="avoiding-common-pitfalls-in-function-writing" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Avoiding Common Pitfalls in Function Writing<a href="writing-functions.html#avoiding-common-pitfalls-in-function-writing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="overloading-functions" class="section level3 hasAnchor" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> Overloading Functions<a href="writing-functions.html#overloading-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Avoid writing overly complex functions that try to do too much. This can lead to functions that are difficult to understand, maintain, and test. Instead, follow the Single Responsibility Principle (SRP), which suggests that a function should do one thing and do it well.</p>
<ul>
<li><p><strong>Example of Overloaded Function:</strong></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="writing-functions.html#cb55-1" tabindex="-1"></a>process_data <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb55-2"><a href="writing-functions.html#cb55-2" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb55-3"><a href="writing-functions.html#cb55-3" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">mean</span>(x))</span>
<span id="cb55-4"><a href="writing-functions.html#cb55-4" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.character</span>(x)) {</span>
<span id="cb55-5"><a href="writing-functions.html#cb55-5" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">tolower</span>(x))</span>
<span id="cb55-6"><a href="writing-functions.html#cb55-6" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb55-7"><a href="writing-functions.html#cb55-7" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;Unsupported data type&quot;</span>)</span>
<span id="cb55-8"><a href="writing-functions.html#cb55-8" tabindex="-1"></a>  }</span>
<span id="cb55-9"><a href="writing-functions.html#cb55-9" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Solution:</strong> Split this function into two separate functions—one for numeric data and one for character data.</p></li>
</ul>
</div>
<div id="handling-errors-gracefully" class="section level3 hasAnchor" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> Handling Errors Gracefully<a href="writing-functions.html#handling-errors-gracefully" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Functions should handle errors gracefully and provide informative error messages to help users diagnose problems. Use <code>stop()</code>, <code>warning()</code>, and <code>message()</code> functions to manage errors, warnings, and informational messages, respectively. We will discuss error handling in greater depth in the next chapter (Chapter <a href="error-handling.html#error-handling">7</a>).</p>
<ul>
<li><p><strong>Example of Error Handling:</strong></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="writing-functions.html#cb56-1" tabindex="-1"></a>divide <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb56-2"><a href="writing-functions.html#cb56-2" tabindex="-1"></a>  <span class="cf">if</span> (b <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb56-3"><a href="writing-functions.html#cb56-3" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;Error: Division by zero is not allowed.&quot;</span>)</span>
<span id="cb56-4"><a href="writing-functions.html#cb56-4" tabindex="-1"></a>  }</span>
<span id="cb56-5"><a href="writing-functions.html#cb56-5" tabindex="-1"></a>  <span class="fu">return</span>(a <span class="sc">/</span> b)</span>
<span id="cb56-6"><a href="writing-functions.html#cb56-6" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
</div>
<div id="avoiding-side-effects" class="section level3 hasAnchor" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> Avoiding Side Effects<a href="writing-functions.html#avoiding-side-effects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Functions should be as “pure” as possible, meaning they should not alter global variables or states outside of their scope. Side effects can make functions unpredictable and harder to debug.</p>
<ul>
<li><p><strong>Example of a Function with a Side Effect:</strong></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="writing-functions.html#cb57-1" tabindex="-1"></a>increment_global <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb57-2"><a href="writing-functions.html#cb57-2" tabindex="-1"></a>  global_var <span class="ot">&lt;&lt;-</span> global_var <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb57-3"><a href="writing-functions.html#cb57-3" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Solution:</strong> Instead, return the new value and let the caller handle any changes to global variables.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="writing-functions.html#cb58-1" tabindex="-1"></a>increment <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb58-2"><a href="writing-functions.html#cb58-2" tabindex="-1"></a>  <span class="fu">return</span>(x <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb58-3"><a href="writing-functions.html#cb58-3" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
</div>
</div>
<div id="summary-4" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Summary<a href="writing-functions.html#summary-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Writing well-structured functions is a cornerstone of good programming practice in R. Functions allow you to create modular, reusable, and testable code, making your scripts more organised and efficient. By following best practices—such as using clear naming conventions, handling errors gracefully, and avoiding side effects—you can write functions that are both powerful and easy to understand.</p>
<p>In this chapter, we covered the essentials of writing functions, including function structure, argument handling, return values, and documentation. We also explored advanced techniques such as vectorisation, closures, and anonymous functions, as well as common pitfalls to avoid.</p>
<p>In the next chapter, we will discuss best practices for error handling in your code, ensuring that your R projects run as smoothly as possible as they grow in size and complexity.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="code-syntax-and-spacing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="error-handling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/06-function.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
